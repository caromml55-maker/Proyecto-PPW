<div class="admin-page">

  <header class="admin-header">
    <div class="header-content">
      <h1>Mis Portafolios</h1>
      <div class="header-actions">
        <button class="btn btn-primary" (click)="creando = true">‚ûï Crear proyecto</button>
        <button class="btn btn-secondary" routerLink="/programmer1">üè† Inicio</button>
      </div>
    </div>
  </header>

  <div class="card-detail">

    <!-- ================= NUEVO PROYECTO ================= -->
    <div *ngIf="creando">

      <h2>Crear nuevo proyecto</h2>

      <div class="form-grid">

        <div class="form-group">
          <label>Tipo de proyecto</label>
          <select [(ngModel)]="nuevoProyecto.tipo">
            <option value="academico">Acad√©mico</option>
            <option value="laboral">Laboral</option>
          </select>
        </div>

        <div class="form-group">
          <label>Nombre del proyecto</label>
          <input type="text" [(ngModel)]="nuevoProyecto.nombre">
        </div>

        <div class="form-group full-row">
          <label>Descripci√≥n</label>
          <textarea rows="3" [(ngModel)]="nuevoProyecto.descripcion"></textarea>
        </div>

        <div class="form-group">
          <label>Rol</label>
          <input type="text" [(ngModel)]="nuevoProyecto.tipoParticipacion" placeholder="Frontend, Backend, BD">
        </div>

        <div class="form-group">
          <label>Tecnolog√≠as</label>
          <input type="text" [(ngModel)]="nuevoProyecto.tecnologias" placeholder="Angular, MySQL...">
        </div>

        <div class="form-group full-row">
          <label>Repositorio</label>
          <input type="text" [(ngModel)]="nuevoProyecto.urlRepositorio" placeholder="https://github.com/...">
        </div>

      </div>

      <div class="action-buttons">
        <button class="btn btn-success" (click)="guardarProyecto()">üíæ Guardar</button>
        <button class="btn btn-secondary" (click)="creando=false">Cancelar</button>
      </div>

      <hr>
    </div>

    <!-- ================= ACAD√âMICOS ================= -->
    <h2>Proyectos Acad√©micos</h2>

    <div *ngIf="proyectosAcademicos.length === 0" class="no-project">
      üìÅ Todav√≠a no tienes proyectos acad√©micos
    </div>

    <div class="proyectos-container" *ngIf="proyectosAcademicos.length > 0">
      <div class="tarjeta-proyecto" *ngFor="let p of proyectosAcademicos">

        <div class="nombre-proyecto">
          {{ p.nombre }}
        </div>

        <button class="btn-mostrar" (click)="p.expandido = true" *ngIf="!p.expandido">
          mostrar m√°s
        </button>

        <div class="detalles" *ngIf="p.expandido">

          <p><b>Descripci√≥n:</b> {{ p.descripcion }}</p>
          <p><b>Rol:</b> {{ p.tipoParticipacion }}</p>
          <p><b>Tecnolog√≠as:</b> {{ p.tecnologias }}</p>
          <p *ngIf="p.urlRepositorio">
            <b>Repositorio:</b> <a [href]="p.urlRepositorio" target="_blank">{{ p.urlRepositorio }}</a>
          </p>

          <button class="btn-ocultar" (click)="p.expandido = false">
            cerrar
          </button>
        </div>

      </div>
    </div>


    <!-- ================= LABORALES ================= -->
    <h2 class="section-title">Proyectos Laborales</h2>

    <div *ngIf="proyectosLaborales.length === 0" class="no-project">
      üëú Todav√≠a no tienes proyectos laborales
    </div>

    <div class="proyectos-container" *ngIf="proyectosLaborales.length > 0">
      <div class="tarjeta-proyecto" *ngFor="let p of proyectosLaborales">

        <div class="nombre-proyecto">
          {{ p.nombre }}
        </div>

        <button class="btn-mostrar" (click)="p.expandido = true" *ngIf="!p.expandido"> mostrar m√°s</button>

        <div class="detalles" *ngIf="p.expandido">

          <p><b>Descripci√≥n:</b> {{ p.descripcion }}</p>
          <p><b>Rol:</b> {{ p.tipoParticipacion }}</p>
          <p><b>Tecnolog√≠as:</b> {{ p.tecnologias }}</p>
          <p *ngIf="p.urlRepositorio">
            <b>Repositorio:</b> <a [href]="p.urlRepositorio" target="_blank">{{ p.urlRepositorio }}</a>
          </p>

          <button class="btn-ocultar" (click)="p.expandido = false">
            cerrar
          </button>
        </div>

      </div>
    </div>

  </div>
</div>

<router-outlet></router-outlet>