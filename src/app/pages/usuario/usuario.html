<div class="usuario-page">
   <header class="top-header">
    <h2>Bienvenido a los portafolios</h2>
    <div class="header-right">
      <span class="username">{{ userName }}</span>
      <button class="logout-btn" (click)="logout()">Cerrar sesi√≥n</button>
    </div>
  </header>

    <div *ngIf="notificaciones.length > 0" class="notificacion-box">
      <div class="noti" *ngFor="let n of notificaciones">
        {{ n.mensaje }}
      </div>
    </div>


  <div *ngIf="!seleccionado" class="vista-programadores">

    <h3 class="title">Explorar programadores</h3>

    <div *ngIf="loading" class="select-loading-spinner">
      <div class="spinner-border spinner-border-sm text-primary" role="status">
        <span class="visually-hidden">Cargando...</span>
      </div>
    </div>

    <div class="programadores-container" *ngIf="!loading">
      <div class="prog-card" *ngFor="let p of programadores">

        <img 
          [src]="p.photoURL || 'https://ui-avatars.com/api/?name=' + p.name" 
          class="prog-img"
        />

        <div class="prog-name">{{ p.name }}</div>
        <div class="prog-spec">{{ p.especialidad }}</div>

        <button class="btn-solicitar" (click)="verAsesoria(p)">
          Solicitar asesor√≠a
        </button>

      </div>
    </div>

  </div>

  <div *ngIf="seleccionado" class="vista-asesoria">

    <div class="asesoria-header">
      <h3>Asesor√≠a con {{ seleccionado.name }}</h3>
      <button class="btn-inicio" (click)="volver()">üè† Inicio</button>
    </div>

    <p class="disponible">Horarios disponibles</p>

    <div class="calendar-box" *ngIf="calendarReady">
      <full-calendar 
        [options]="calendarOptions">
      </full-calendar>
    </div>


    <textarea placeholder="Comentario opcional" [(ngModel)]="comentario"></textarea>

    <div class="accion-asesoria">
      <button class="btn-agendar" [disabled]="!selectedEventId"  (click)="agendarAsesoria()">Agendar asesor√≠a</button>

      <button class="btn-cancelar" (click)="volver()">Cancelar</button>
    </div>
  </div>

</div>
